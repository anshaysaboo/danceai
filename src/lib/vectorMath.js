//GLOBAL VARIABLES
let subVectorKeypoints = [["wrist", "elbow"], ["elbow", "shoulder"], ["shoulder", "hip"], ["hip", "knee"], ["knee", "ankle"]];
let scoreThreshold = .8;
let differencePercentThreshold = .01;

function dotProduct(v1, v2) { //helper
  return (v1.x * v2.x) + (v1.y * v2.y) + (v1.z * v2.z)
}

function getMagnitude(v) {//helper
    return Math.pow(Math.pow(v.x, 2) + Math.pow(v.y, 2) + Math.pow(v.z, 2), 0.5);
}

function getAngleBetweenVectors(v1, v2) {//helper
    let numerator = dotProduct(v1, v2);
    let denominator = getMagnitude(v1) * getMagnitude(v2);
    if (Math.abs(numerator - denominator)/ Math.min(numerator, denominator) < differencePercentThreshold) {
        return 0; // same numerator and denominator (so v1 and v2 are same vector)
    }
  return Math.acos(numerator / denominator) * (180 / Math.PI);
}

function extractKeypoints3D(data){//helper
    return data[0].keypoints3D;
}

function createSubVector(keyPoint1, keyPoint2){//helper
    var vector = {
        x: keyPoint2.x - keyPoint1.x,
        y: keyPoint2.y - keyPoint1.y,
        z: keyPoint2.z - keyPoint1.z,
        score: Math.min(keyPoint1.score, keyPoint2.score)
    }
    return vector;
}

function getAngles(liveData, referenceData){
    angles = {};
    var liveDataDict = extractKeypoints3D(liveData).reduce(function (map, keypoint) {
      map[keypoint.name] = keypoint;
      return map;
    }, {});
    var referenceDataDict = extractKeypoints3D(referenceData).reduce(function(map, keypoint) {
        map[keypoint.name] = keypoint;
        return map;
      }, {});
    let leftRightPrepends = ["left", "right"];
    for (let i = 0; i < subVectorKeypoints.length; i++) {
        for (let j = 0; j < leftRightPrepends.length; j++) {
            let keyPoint1Name = leftRightPrepends[j] + "_" + subVectorKeypoints[i][0];
            let keyPoint2Name = leftRightPrepends[j] + "_" + subVectorKeypoints[i][1];
            let liveVector = createSubVector(liveDataDict[keyPoint1Name], liveDataDict[keyPoint2Name]);
            let referenceVector = createSubVector(referenceDataDict[keyPoint1Name], referenceDataDict[keyPoint2Name]);
            let anglesName = leftRightPrepends[j] + ' ' + subVectorKeypoints[i][0] + ' ' + subVectorKeypoints[i][1]
            if (liveVector.score > scoreThreshold && referenceVector.score > scoreThreshold) {
                angles[anglesName]= getAngleBetweenVectors(liveVector, referenceVector);
            }
            else{
                angles[anglesName] = null; // for when the score (confidence) is too low
            }
        }
    }
    return angles;
}

/*
example2 = [
    {
        "score": 0.999819815158844,
        "keypoints": [
            {
                "x": 350.29450547243,
                "y": 154.85807037408546,
                "z": -468.4413351533377,
                "score": 0.9999939769790391,
                "name": "nose"
            },
            {
                "x": 363.5989622624812,
                "y": 133.2172863484908,
                "z": -459.5946071059857,
                "score": 0.9999800804243547,
                "name": "left_eye_inner"
            },
            {
                "x": 370.61131196582534,
                "y": 131.92981129740184,
                "z": -459.5302378344331,
                "score": 0.999975480547325,
                "name": "left_eye"
            },
            {
                "x": 377.44516356853364,
                "y": 131.0066243786779,
                "z": -459.63912180851327,
                "score": 0.9999737461660908,
                "name": "left_eye_outer"
            },
            {
                "x": 340.6153942691786,
                "y": 136.84109312418758,
                "z": -453.0904020480359,
                "score": 0.9999881761247691,
                "name": "right_eye_inner"
            },
            {
                "x": 334.15665772127494,
                "y": 137.45250342226578,
                "z": -453.0770602835,
                "score": 0.9999833209730478,
                "name": "right_eye"
            },
            {
                "x": 328.13695744457124,
                "y": 138.02719123033316,
                "z": -452.96858731164474,
                "score": 0.9999821750166525,
                "name": "right_eye_outer"
            },
            {
                "x": 390.8038497453741,
                "y": 133.2230965575879,
                "z": -303.74812770804647,
                "score": 0.9999808879129092,
                "name": "left_ear"
            },
            {
                "x": 323.05483197277846,
                "y": 140.94225590889258,
                "z": -274.658876150727,
                "score": 0.9999871563428118,
                "name": "right_ear"
            },
            {
                "x": 366.9015091264375,
                "y": 167.64738077354045,
                "z": -398.7885983822119,
                "score": 0.9999930498042278,
                "name": "mouth_left"
            },
            {
                "x": 339.64926886986655,
                "y": 171.61480335518235,
                "z": -390.78897753622624,
                "score": 0.9999928549589346,
                "name": "mouth_right"
            },
            {
                "x": 463.6642120140307,
                "y": 213.08891308055922,
                "z": -143.04293808344494,
                "score": 0.9999897132631463,
                "name": "left_shoulder"
            },
            {
                "x": 275.9870404171655,
                "y": 226.92999862508697,
                "z": -91.96373172917119,
                "score": 0.9999856986293874,
                "name": "right_shoulder"
            },
            {
                "x": 576.9843659584305,
                "y": 301.6337604885923,
                "z": -6.071669675468897,
                "score": 0.9971053889756846,
                "name": "left_elbow"
            },
            {
                "x": 182.27154502066156,
                "y": 319.6126989276918,
                "z": 72.642517129968,
                "score": 0.977943876535561,
                "name": "right_elbow"
            },
            {
                "x": 497.433231624838,
                "y": 396.3815245220402,
                "z": -5.42334824497998,
                "score": 0.9584231308917844,
                "name": "left_wrist"
            },
            {
                "x": 267.5271108602126,
                "y": 407.6701889540084,
                "z": 63.08341157217377,
                "score": 0.8788771340108603,
                "name": "right_wrist"
            },
            {
                "x": 477.63556935413277,
                "y": 422.6883241557363,
                "z": -20.904235116312144,
                "score": 0.8911445830932615,
                "name": "left_pinky"
            },
            {
                "x": 285.8152853974928,
                "y": 435.2757737169554,
                "z": 55.133759112086494,
                "score": 0.7673123170317675,
                "name": "right_pinky"
            },
            {
                "x": 466.0014879746581,
                "y": 412.1250298785933,
                "z": -37.16642931355934,
                "score": 0.8871110319281525,
                "name": "left_index"
            },
            {
                "x": 297.0864877023278,
                "y": 425.30865332295605,
                "z": 31.770673544879745,
                "score": 0.7573395477067335,
                "name": "right_index"
            },
            {
                "x": 469.1089645068308,
                "y": 401.19873502961764,
                "z": -4.594248078598209,
                "score": 0.8616462497653009,
                "name": "left_thumb"
            },
            {
                "x": 292.6150608319664,
                "y": 415.5758912408576,
                "z": 58.518575840305104,
                "score": 0.7225827958444967,
                "name": "right_thumb"
            },
            {
                "x": 437.05221839709844,
                "y": 495.2518779946685,
                "z": -27.170143850544,
                "score": 0.9998400057126736,
                "name": "left_hip"
            },
            {
                "x": 331.85003059339715,
                "y": 499.7027630584245,
                "z": 27.35155193359395,
                "score": 0.9998160778163512,
                "name": "right_hip"
            },
            {
                "x": 477.473880710124,
                "y": 698.0671662484225,
                "z": -185.89167470737172,
                "score": 0.9858898961710472,
                "name": "left_knee"
            },
            {
                "x": 317.074310954903,
                "y": 705.3204895673592,
                "z": 12.777412045634525,
                "score": 0.9879513867416381,
                "name": "right_knee"
            },
            {
                "x": 492.63426684237686,
                "y": 902.1267057335372,
                "z": -145.437294776536,
                "score": 0.9896437453259744,
                "name": "left_ankle"
            },
            {
                "x": 336.4183522830171,
                "y": 887.6194977486041,
                "z": 197.2835656488493,
                "score": 0.992281320043497,
                "name": "right_ankle"
            },
            {
                "x": 471.48631282803007,
                "y": 934.8945963547584,
                "z": -153.84943539424026,
                "score": 0.9392510354025515,
                "name": "left_heel"
            },
            {
                "x": 361.1297693906895,
                "y": 917.702246408899,
                "z": 203.90846309096037,
                "score": 0.9530109902267673,
                "name": "right_heel"
            },
            {
                "x": 539.2480394228655,
                "y": 958.8158862201304,
                "z": -343.67361100636526,
                "score": 0.9840382269744204,
                "name": "left_foot_index"
            },
            {
                "x": 276.71097410344146,
                "y": 953.6401256986182,
                "z": 46.67972788298379,
                "score": 0.9848677509920116,
                "name": "right_foot_index"
            }
        ],
        "keypoints3D": [
            {
                "x": -0.03190253998260522,
                "y": -0.5679118008386783,
                "z": -0.273514986038208,
                "score": 0.9999939769790391,
                "name": "nose"
            },
            {
                "x": -0.02737029207086563,
                "y": -0.6083190974117738,
                "z": -0.2707202434539795,
                "score": 0.9999800804243547,
                "name": "left_eye_inner"
            },
            {
                "x": -0.026914930546483567,
                "y": -0.608916261854135,
                "z": -0.27007293701171875,
                "score": 0.999975480547325,
                "name": "left_eye"
            },
            {
                "x": -0.02714598713518121,
                "y": -0.6092891293513165,
                "z": -0.26987147331237793,
                "score": 0.9999737461660908,
                "name": "left_eye_outer"
            },
            {
                "x": -0.05735346036638093,
                "y": -0.6024092584761366,
                "z": -0.26645684242248535,
                "score": 0.9999881761247691,
                "name": "right_eye_inner"
            },
            {
                "x": -0.057196004509590906,
                "y": -0.6033100788257333,
                "z": -0.2674071788787842,
                "score": 0.9999833209730478,
                "name": "right_eye"
            },
            {
                "x": -0.05766077003209892,
                "y": -0.6045353807754715,
                "z": -0.26562047004699707,
                "score": 0.9999821750166525,
                "name": "right_eye_outer"
            },
            {
                "x": 0.028957693688056424,
                "y": -0.6363441107496404,
                "z": -0.17614984512329102,
                "score": 0.9999808879129092,
                "name": "left_ear"
            },
            {
                "x": -0.11584049143351781,
                "y": -0.6172571358823231,
                "z": -0.17046546936035156,
                "score": 0.9999871563428118,
                "name": "right_ear"
            },
            {
                "x": -0.004410074565194079,
                "y": -0.5609134905349276,
                "z": -0.23331236839294434,
                "score": 0.9999930498042278,
                "name": "mouth_left"
            },
            {
                "x": -0.046676059075983364,
                "y": -0.5531453250043986,
                "z": -0.2304229736328125,
                "score": 0.9999928549589346,
                "name": "mouth_right"
            },
            {
                "x": 0.1632982058334448,
                "y": -0.5069258465055652,
                "z": -0.07121232151985168,
                "score": 0.9999897132631463,
                "name": "left_shoulder"
            },
            {
                "x": -0.20373991260054236,
                "y": -0.4880651545290237,
                "z": -0.06757593154907227,
                "score": 0.9999856986293874,
                "name": "right_shoulder"
            },
            {
                "x": 0.3378133255166237,
                "y": -0.3412073474699681,
                "z": -0.018411755561828613,
                "score": 0.9971053889756846,
                "name": "left_elbow"
            },
            {
                "x": -0.34456107132608815,
                "y": -0.3145908566153019,
                "z": 0.03207479417324066,
                "score": 0.977943876535561,
                "name": "right_elbow"
            },
            {
                "x": 0.22993567847978738,
                "y": -0.16123042569835924,
                "z": -0.03431367874145508,
                "score": 0.9584231308917844,
                "name": "left_wrist"
            },
            {
                "x": -0.23071247084306237,
                "y": -0.13210660361342536,
                "z": 0.015316009521484375,
                "score": 0.8788771340108603,
                "name": "right_wrist"
            },
            {
                "x": 0.19461865520650276,
                "y": -0.0968228037743158,
                "z": -0.03820466995239258,
                "score": 0.8911445830932615,
                "name": "left_pinky"
            },
            {
                "x": -0.17726645956220194,
                "y": -0.06530730492090123,
                "z": 0.014392375946044922,
                "score": 0.7673123170317675,
                "name": "right_pinky"
            },
            {
                "x": 0.14817108637153473,
                "y": -0.11732368228364388,
                "z": -0.05355978012084961,
                "score": 0.8871110319281525,
                "name": "left_index"
            },
            {
                "x": -0.14662323418503298,
                "y": -0.08999811589119254,
                "z": 0.0031201839447021484,
                "score": 0.7573395477067335,
                "name": "right_index"
            },
            {
                "x": 0.2029930516529519,
                "y": -0.1579930847588647,
                "z": -0.032877206802368164,
                "score": 0.8616462497653009,
                "name": "left_thumb"
            },
            {
                "x": -0.20257435470342272,
                "y": -0.12946322039581448,
                "z": 0.013218402862548828,
                "score": 0.7225827958444967,
                "name": "right_thumb"
            },
            {
                "x": 0.11349654392963208,
                "y": -0.003757248407337121,
                "z": -0.014263153076171875,
                "score": 0.9998400057126736,
                "name": "left_hip"
            },
            {
                "x": -0.11367574935703136,
                "y": 0.0033579050098828597,
                "z": 0.015127897262573242,
                "score": 0.9998160778163512,
                "name": "right_hip"
            },
            {
                "x": 0.1620125541546372,
                "y": 0.3840501115945414,
                "z": -0.10655069351196289,
                "score": 0.9858898961710472,
                "name": "left_knee"
            },
            {
                "x": -0.08928755291249285,
                "y": 0.40218959725765435,
                "z": 0.01975765824317932,
                "score": 0.9879513867416381,
                "name": "right_knee"
            },
            {
                "x": 0.22815595795074287,
                "y": 0.7372660825803276,
                "z": -0.10662460327148438,
                "score": 0.9896437453259744,
                "name": "left_ankle"
            },
            {
                "x": -0.035262561077489304,
                "y": 0.7726357775423841,
                "z": 0.11358451843261719,
                "score": 0.992281320043497,
                "name": "right_ankle"
            },
            {
                "x": 0.24311100113511025,
                "y": 0.7799087857490536,
                "z": -0.11603450775146484,
                "score": 0.9392510354025515,
                "name": "left_heel"
            },
            {
                "x": -0.03615619575334589,
                "y": 0.8209888448730976,
                "z": 0.11427497863769531,
                "score": 0.9530109902267673,
                "name": "right_heel"
            },
            {
                "x": 0.3220938928610808,
                "y": 0.8083380417045299,
                "z": -0.212554931640625,
                "score": 0.9840382269744204,
                "name": "left_foot_index"
            },
            {
                "x": -0.13823334708588347,
                "y": 0.873925406204226,
                "z": 0.02783966064453125,
                "score": 0.9848677509920116,
                "name": "right_foot_index"
            }
        ]
    }
]

example1 = [
    {
        "score": 0.9999843835830688,
        "keypoints": [
            {
                "x": 361.3983539525632,
                "y": 236.94784731451395,
                "z": -520.8122514310403,
                "score": 0.9999460915208038,
                "name": "nose"
            },
            {
                "x": 378.12164237302204,
                "y": 228.38342213948604,
                "z": -480.15014249308524,
                "score": 0.9998574514326477,
                "name": "left_eye_inner"
            },
            {
                "x": 384.7060558813417,
                "y": 230.49665780098226,
                "z": -480.0564477957743,
                "score": 0.9997730053338625,
                "name": "left_eye"
            },
            {
                "x": 390.8069262153661,
                "y": 232.64253572332194,
                "z": -480.14092662121857,
                "score": 0.9998087857760166,
                "name": "left_eye_outer"
            },
            {
                "x": 362.3886648346498,
                "y": 224.11730060143404,
                "z": -472.33552200121295,
                "score": 0.9999010290163532,
                "name": "right_eye_inner"
            },
            {
                "x": 357.91120187265034,
                "y": 223.21140868771178,
                "z": -472.3819304988271,
                "score": 0.9998428875088661,
                "name": "right_eye"
            },
            {
                "x": 353.7006608453485,
                "y": 222.34243441679413,
                "z": -472.3304386433183,
                "score": 0.9998994184440103,
                "name": "right_eye_outer"
            },
            {
                "x": 403.39043187926313,
                "y": 246.2166709539702,
                "z": -290.66677012792434,
                "score": 0.9995896904172497,
                "name": "left_ear"
            },
            {
                "x": 352.24603252455887,
                "y": 230.66620850336955,
                "z": -254.0122854697554,
                "score": 0.9997738763041444,
                "name": "right_ear"
            },
            {
                "x": 372.5209106951042,
                "y": 258.80890397451935,
                "z": -456.2236545848332,
                "score": 0.9997826469474925,
                "name": "mouth_left"
            },
            {
                "x": 349.5712229392105,
                "y": 251.3834303821965,
                "z": -445.5359860385349,
                "score": 0.9998564427115945,
                "name": "mouth_right"
            },
            {
                "x": 439.7346596992358,
                "y": 341.9282372328418,
                "z": -206.02655721326755,
                "score": 0.9989606394431726,
                "name": "left_shoulder"
            },
            {
                "x": 287.3084387957684,
                "y": 309.1364581873173,
                "z": -147.9511772387803,
                "score": 0.9995842574197307,
                "name": "right_shoulder"
            },
            {
                "x": 566.4132568867135,
                "y": 339.0569986152497,
                "z": -380.6495921899068,
                "score": 0.9996883129778491,
                "name": "left_elbow"
            },
            {
                "x": 172.83160876409278,
                "y": 244.3443482649152,
                "z": -230.66257582795086,
                "score": 0.9992938424517184,
                "name": "right_elbow"
            },
            {
                "x": 499.65703376232153,
                "y": 237.75807561830715,
                "z": -554.4727114310734,
                "score": 0.9955599791237154,
                "name": "left_wrist"
            },
            {
                "x": 189.27402203871407,
                "y": 114.32891129269402,
                "z": -351.7449974950229,
                "score": 0.9970662564120819,
                "name": "right_wrist"
            },
            {
                "x": 478.55461751861907,
                "y": 220.09226868015742,
                "z": -612.1901078113758,
                "score": 0.9646097535578172,
                "name": "left_pinky"
            },
            {
                "x": 194.83125755402853,
                "y": 84.82317523827521,
                "z": -411.50060096557775,
                "score": 0.9810035421921117,
                "name": "right_pinky"
            },
            {
                "x": 469.27542706825426,
                "y": 220.47168264849665,
                "z": -585.4053830713406,
                "score": 0.9567731524341737,
                "name": "left_index"
            },
            {
                "x": 208.6694392477414,
                "y": 86.8070582764553,
                "z": -390.94767072431875,
                "score": 0.9777517896061525,
                "name": "right_index"
            },
            {
                "x": 470.59446873991027,
                "y": 228.02320397084452,
                "z": -552.0377098576738,
                "score": 0.9506033087561017,
                "name": "left_thumb"
            },
            {
                "x": 209.66046495997054,
                "y": 98.48077178586945,
                "z": -355.4875557458828,
                "score": 0.9757209544866101,
                "name": "right_thumb"
            },
            {
                "x": 379.80012574002546,
                "y": 565.2094413479082,
                "z": -4.04051753673873,
                "score": 0.9988424127642859,
                "name": "left_hip"
            },
            {
                "x": 291.8842973461216,
                "y": 552.9822844068092,
                "z": 4.061929524750321,
                "score": 0.9997513907046899,
                "name": "right_hip"
            },
            {
                "x": 427.0471183027823,
                "y": 753.1803916515371,
                "z": -29.10301250759998,
                "score": 0.9896489243757279,
                "name": "left_knee"
            },
            {
                "x": 224.5752421556692,
                "y": 729.5245424175149,
                "z": -167.9841878516262,
                "score": 0.9976065868408845,
                "name": "right_knee"
            },
            {
                "x": 366.5191354382483,
                "y": 901.728699184834,
                "z": 249.06124116400184,
                "score": 0.9815934124554533,
                "name": "left_ankle"
            },
            {
                "x": 195.16705256285954,
                "y": 923.5979076727876,
                "z": -30.646586475009993,
                "score": 0.9975070078357314,
                "name": "right_ankle"
            },
            {
                "x": 344.0573730836648,
                "y": 925.6043794543141,
                "z": 264.75676694043796,
                "score": 0.9343957179186185,
                "name": "left_heel"
            },
            {
                "x": 210.68488004631973,
                "y": 952.9732226160069,
                "z": -32.80081480929792,
                "score": 0.9678649926255827,
                "name": "right_heel"
            },
            {
                "x": 433.06773042141833,
                "y": 949.5431070681187,
                "z": 68.41155169355439,
                "score": 0.9730000455542348,
                "name": "left_foot_index"
            },
            {
                "x": 118.9217734718192,
                "y": 969.691007536624,
                "z": -263.55510136214394,
                "score": 0.9925561240421664,
                "name": "right_foot_index"
            }
        ],
        "keypoints3D": [
            {
                "x": 0.07814301149342304,
                "y": -0.6453058687448161,
                "z": -0.282578706741333,
                "score": 0.9999460915208038,
                "name": "nose"
            },
            {
                "x": 0.09802058611668699,
                "y": -0.6743115977088563,
                "z": -0.261491060256958,
                "score": 0.9998574514326477,
                "name": "left_eye_inner"
            },
            {
                "x": 0.09839051307921652,
                "y": -0.6749161646159872,
                "z": -0.26061463356018066,
                "score": 0.9997730053338625,
                "name": "left_eye"
            },
            {
                "x": 0.09818021866548182,
                "y": -0.6752697148747272,
                "z": -0.2605774402618408,
                "score": 0.9998087857760166,
                "name": "left_eye_outer"
            },
            {
                "x": 0.06573873446764565,
                "y": -0.6768647313111475,
                "z": -0.2563507556915283,
                "score": 0.9999010290163532,
                "name": "right_eye_inner"
            },
            {
                "x": 0.0661168072360946,
                "y": -0.6779566621197604,
                "z": -0.2571747303009033,
                "score": 0.9998428875088661,
                "name": "right_eye"
            },
            {
                "x": 0.06607889285510002,
                "y": -0.6792281145001747,
                "z": -0.256305456161499,
                "score": 0.9998994184440103,
                "name": "right_eye_outer"
            },
            {
                "x": 0.1561103052759375,
                "y": -0.6297670124337501,
                "z": -0.15770363807678223,
                "score": 0.9995896904172497,
                "name": "left_ear"
            },
            {
                "x": 0.010430877926561832,
                "y": -0.6470117986261121,
                "z": -0.1445622444152832,
                "score": 0.9997738763041444,
                "name": "right_ear"
            },
            {
                "x": 0.09879177043215859,
                "y": -0.6093384292921644,
                "z": -0.24920153617858887,
                "score": 0.9997826469474925,
                "name": "mouth_left"
            },
            {
                "x": 0.05550267165462443,
                "y": -0.613291797112619,
                "z": -0.24424219131469727,
                "score": 0.9998564427115945,
                "name": "mouth_right"
            },
            {
                "x": 0.2248173146337827,
                "y": -0.46347179208406464,
                "z": -0.12083163112401962,
                "score": 0.9989606394431726,
                "name": "left_shoulder"
            },
            {
                "x": -0.09709424490942507,
                "y": -0.5118303648923447,
                "z": -0.0964195728302002,
                "score": 0.9995842574197307,
                "name": "right_shoulder"
            },
            {
                "x": 0.40585360694266726,
                "y": -0.48253684722650747,
                "z": -0.22031140327453613,
                "score": 0.9996883129778491,
                "name": "left_elbow"
            },
            {
                "x": -0.2898703173630683,
                "y": -0.6526165175331164,
                "z": -0.13607224822044373,
                "score": 0.9992938424517184,
                "name": "right_elbow"
            },
            {
                "x": 0.3328794187965974,
                "y": -0.6278782776148861,
                "z": -0.31435537338256836,
                "score": 0.9955599791237154,
                "name": "left_wrist"
            },
            {
                "x": -0.2820040355212943,
                "y": -0.8697705622423988,
                "z": -0.20741260051727295,
                "score": 0.9970662564120819,
                "name": "right_wrist"
            },
            {
                "x": 0.30016248248524635,
                "y": -0.6520462844083732,
                "z": -0.34082937240600586,
                "score": 0.9646097535578172,
                "name": "left_pinky"
            },
            {
                "x": -0.2579292639468145,
                "y": -0.910401035889088,
                "z": -0.23334193229675293,
                "score": 0.9810035421921117,
                "name": "right_pinky"
            },
            {
                "x": 0.27418198795397236,
                "y": -0.677251956192758,
                "z": -0.3250851631164551,
                "score": 0.9567731524341737,
                "name": "left_index"
            },
            {
                "x": -0.23761302437246534,
                "y": -0.9312326329611612,
                "z": -0.21695876121520996,
                "score": 0.9777517896061525,
                "name": "right_index"
            },
            {
                "x": 0.3133166388536565,
                "y": -0.638921915613938,
                "z": -0.31003642082214355,
                "score": 0.9506033087561017,
                "name": "left_thumb"
            },
            {
                "x": -0.2641930503681711,
                "y": -0.8805870408883223,
                "z": -0.20881152153015137,
                "score": 0.9757209544866101,
                "name": "right_thumb"
            },
            {
                "x": 0.10927594456755159,
                "y": 0.007038470341938233,
                "z": 0.0011415481567382812,
                "score": 0.9988424127642859,
                "name": "left_hip"
            },
            {
                "x": -0.10948641350394715,
                "y": -0.007518259744994102,
                "z": -0.00007319450378417969,
                "score": 0.9997513907046899,
                "name": "right_hip"
            },
            {
                "x": 0.15827875960314958,
                "y": 0.40714264264410605,
                "z": -0.020394444465637207,
                "score": 0.9896489243757279,
                "name": "left_knee"
            },
            {
                "x": -0.23725989540876993,
                "y": 0.3521655149148125,
                "z": -0.07601487636566162,
                "score": 0.9976065868408845,
                "name": "right_knee"
            },
            {
                "x": 0.12335027570581643,
                "y": 0.7059874245567643,
                "z": 0.1156301498413086,
                "score": 0.9815934124554533,
                "name": "left_ankle"
            },
            {
                "x": -0.2871970676918159,
                "y": 0.7239343149612003,
                "z": -0.01706695556640625,
                "score": 0.9975070078357314,
                "name": "right_ankle"
            },
            {
                "x": 0.12774012879370422,
                "y": 0.7477845197849504,
                "z": 0.12108659744262695,
                "score": 0.9343957179186185,
                "name": "left_heel"
            },
            {
                "x": -0.29682656096281346,
                "y": 0.7726326241570901,
                "z": -0.019508838653564453,
                "score": 0.9678649926255827,
                "name": "right_heel"
            },
            {
                "x": 0.19656706622977024,
                "y": 0.8211399344955477,
                "z": 0.027644634246826172,
                "score": 0.9730000455542348,
                "name": "left_foot_index"
            },
            {
                "x": -0.3791398898391324,
                "y": 0.8292650676882692,
                "z": -0.1331934928894043,
                "score": 0.9925561240421664,
                "name": "right_foot_index"
            }
        ]
    }
]

console.log(getAngles(example1, example2));
*/